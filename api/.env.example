# ========================================
# SERVER CONFIGURATION
# ========================================
PORT=4000
NODE_ENV=development

# ========================================
# DATABASE CONFIGURATION
# ========================================
DB_HOST=localhost
DB_PORT=5432
DB_NAME=probuild
DB_USER=postgres
DB_PASSWORD=your_password_here

# ========================================
# JWT CONFIGURATION
# ========================================
# IMPORTANT: Use a strong, random secret in production!
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production-use-random-64-char-hex
JWT_REFRESH_SECRET=your-refresh-token-secret-different-from-jwt-secret-64-char-hex
JWT_EXPIRE=1h
JWT_REFRESH_EXPIRE=7d

# ========================================
# REDIS CONFIGURATION
# ========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ========================================
# FILE UPLOAD CONFIGURATION
# ========================================
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./uploads

# ========================================
# CORS CONFIGURATION
# ========================================
# Single origin for development
CORS_ORIGIN=http://localhost:3000

# Multiple allowed origins for production (comma-separated)
# Example: CORS_ALLOWED_ORIGINS=https://app.probuild.com,https://www.probuild.com
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:5173

# ========================================
# SECURITY CONFIGURATION
# ========================================

# Account Lockout Settings
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000
# LOCKOUT_DURATION in milliseconds (900000 = 15 minutes)

# Rate Limiting
RATE_LIMIT_WINDOW=900000
# RATE_LIMIT_WINDOW in milliseconds (900000 = 15 minutes)
RATE_LIMIT_MAX_REQUESTS=100

# Password Policy
MIN_PASSWORD_LENGTH=8
REQUIRE_UPPERCASE=true
REQUIRE_LOWERCASE=true
REQUIRE_NUMBERS=true
REQUIRE_SPECIAL_CHARS=true

# Session Configuration
SESSION_TIMEOUT=3600000
# SESSION_TIMEOUT in milliseconds (3600000 = 1 hour)

# Trust Proxy (set to 1 if behind load balancer/reverse proxy)
TRUST_PROXY=1

# ========================================
# AI CONFIGURATION (Ollama)
# ========================================
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_MODEL=llama2
OLLAMA_TIMEOUT=60000

# ========================================
# LOGGING CONFIGURATION
# ========================================
LOG_LEVEL=info
LOG_FILE_PATH=./logs
ENABLE_SECURITY_LOGGING=true
ENABLE_AUDIT_LOGGING=true

# ========================================
# EMAIL CONFIGURATION (Optional - for future features)
# ========================================
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# EMAIL_FROM=ProBuild <noreply@probuild.com>

# ========================================
# PRODUCTION SECURITY CHECKLIST
# ========================================
# Before deploying to production:
# ✓ Generate strong random JWT_SECRET and JWT_REFRESH_SECRET
# ✓ Set NODE_ENV=production
# ✓ Update CORS_ALLOWED_ORIGINS with your domain(s)
# ✓ Enable HTTPS
# ✓ Set TRUST_PROXY=1 if behind load balancer
# ✓ Review and adjust rate limits based on your needs
# ✓ Set up log rotation for security and audit logs
# ✓ Configure Redis password if using shared Redis instance
# ✓ Use environment-specific database credentials
# ✓ Never commit actual .env file to version control
