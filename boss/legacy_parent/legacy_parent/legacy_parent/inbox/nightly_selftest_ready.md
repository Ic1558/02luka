# âœ… Nightly Self-Test System Ready

**Date:** 2025-09-30
**Time:** 20:05 +07

## Status

ðŸŽ‰ **Nightly self-test automation is now ACTIVE!**

### Components Installed

1. **Test Script**: `g/tools/nightly_selftest.sh`
   - Tests: Security validation, file routing, auth, E2E workflows, health checks
   - Logs: `logs/nightly_selftest.log`
   - Status updates: `run/system_status.v2.json`

2. **LaunchAgent**: `com.02luka.nightly.selftest`
   - Schedule: **Daily at 2:30 AM**
   - Status: âœ… Loaded and scheduled
   - Exit code: 0 (no errors)

3. **Failure Notifications**
   - If tests fail, you'll receive `selftest_fail_YYYY-MM-DD.md` in this inbox
   - Includes failed test details and quick action links

### Manual Commands

```bash
# Run test manually
./g/tools/nightly_selftest.sh

# Check LaunchAgent status
launchctl list | grep nightly.selftest

# View recent test results
tail -n 50 logs/nightly_selftest.log

# Check system status
cat run/system_status.v2.json | jq .nightly_selftest
```

### What Happens Next

1. **Tonight at 2:30 AM**: First automated run
2. **Tomorrow morning**: Check inbox for any failure notifications
3. **Daily monitoring**: System automatically tests itself every night

### Test Coverage

âœ… Security validation (dangerous filenames, large files, invalid extensions)
âœ… File routing workflows (markdown â†’ deliverables, ambiguous â†’ queries)
âœ… Health endpoints (main, boss, status)
âœ… LaunchAgent status checks
âœ… Authentication verification
âœ… E2E processing paths

---
*System will self-test in approximately {{hours until 2:30 AM}} hours*
*Generated by Nightly Self-Test Setup*