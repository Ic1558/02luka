wo_id: "GEMINI_YYYYMMDD_HHMMSS_xxx"
engine: "gemini"
task_type: "bulk_test_generation"  # or "code_transform", "non_locked_refactor"
impact_zone: "apps"  # apps, tools, tests, docs (locked zones prohibited)
priority: "normal"

routing:
  prefer_agent: "gemini"
  review_required_by: "andy"  # or "cls"
  locked_zone_allowed: false
  note: "Gemini receives the WO only when Liam/GG/Kim agree on heavy, non-locked routing."

target_files:
  - "g/apps/dashboard/**/*.js"

context:
  title: "Generate Jest tests for dashboard handlers"
  instructions: |
    Generate comprehensive Jest tests with 80%+ coverage. Cover success, failure, and edge cases.
  impact_zone: "apps"
  locked_zone: false

constraints:
  max_tokens: 4096
  temperature: 0.2
  allow_write: false  # Gemini produces patches/specs only
  output_format: "patch_unified"
  timeout_seconds: 300

artifacts:
  expected_outputs:
    - "patches/dashboard_tests.diff"
    - "notes/dashboard_tests_review.md"

metadata:
  created_by: "gg"
  requested_via: "liam/feature-dev"
  tags:
    - "engine:gemini"
    - "kind:test_generation"
    - "zone:apps"
    - "protocol:v3.2"
