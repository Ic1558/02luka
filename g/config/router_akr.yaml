# Phase 15 – Autonomous Knowledge Router (AKR) Configuration
# Classification: Strategic Integration Patch (SIP)
# System: 02LUKA Cognitive Architecture
# Phase: 15 – Autonomous Knowledge Routing (AKR)
# Status: Active
# Maintainer: GG Core (02LUKA Automation)
# Version: v1.0.0
# Work Order: WO-251107-PHASE-15-AKR
# Created: 2025-11-08

router:
  version: 1.0.0
  mode: production

  agents:
    - id: andy
      config: config/agents/andy.yaml
      priority: 1
      load_balancing: false

    - id: kim
      config: config/agents/kim.yaml
      priority: 1
      load_balancing: false

    - id: system
      type: internal
      priority: 0

  intent_classifier:
    model: local
    confidence_threshold: 0.75
    fallback_strategy: ask_user

    features:
      - keyword_matching
      - pattern_matching
      - context_analysis
      - rag_lookup

  delegation:
    enabled: true
    max_hops: 3
    timeout_ms: 5000

    handoff_protocol:
      include_context: true
      include_history: true
      max_context_tokens: 4000

  performance:
    routing_timeout_ms: 100
    agent_timeout_ms: 30000
    cache_ttl_seconds: 300

  telemetry:
    enabled: true
    schema: config/telemetry_unified.yaml
    sink: g/telemetry_unified/unified.jsonl

    track_events:
      - all_routing_decisions
      - delegation_chains
      - performance_metrics
      - error_conditions

  rag_integration:
    enabled: true
    query_endpoint: http://127.0.0.1:8765/rag_query
    use_for_context: true
    use_for_intent: true
