# PR #281 Next Steps Guide

**Date:** 2025-11-15  
**PR:** [#281](https://github.com/Ic1558/02luka/pull/281)  
**Status:** ⏳ Awaiting GitHub Merge

---

## Current Status

### ✅ Completed:
- ✅ Conflicts resolved and pushed to `ai/codex-review-251114`
- ✅ Local main reset to match `origin/main`
- ✅ Branch ready for merge

### ⏳ Pending:
- ⏳ PR #281 merge on GitHub (manual step required)

---

## Step 1: Merge PR #281 on GitHub

### Action Required:

1. **Navigate to PR:**
   - https://github.com/Ic1558/02luka/pull/281

2. **Verify:**
   - ✅ No conflicts (should show "This branch has no conflicts")
   - ✅ All CI checks passing
   - ✅ Code review approved (if required)

3. **Merge:**
   - Click "Merge pull request"
   - Choose merge method (recommend: Squash and merge)
   - Confirm merge

---

## Step 2: Sync Local Main (After Merge)

### Commands:

```bash
cd ~/02luka
git checkout main
git pull origin main
git status -sb  # Should show: ## main...origin/main (no diff)
```

### Verification:
- ✅ Local `main` matches `origin/main`
- ✅ PR #281 changes present
- ✅ Sandbox scanner available: `tools/codex_sandbox_check.zsh`

---

## Step 3: Smoke Tests (After Merge)

### 3.1 Sandbox Guardrail

```bash
cd ~/02luka
./tools/codex_sandbox_check.zsh
```

**Expected:** ✅ Codex sandbox check passed (0 violations)

### 3.2 Dashboard Security

**Check if server running:**
```bash
ps aux | grep wo_dashboard_server | grep -v grep
```

**If not running, start it:**
```bash
cd ~/02luka/g/apps/dashboard
node wo_dashboard_server.js &
```

**Run integration tests:**
```bash
cd ~/02luka/g/apps/dashboard
./integration_test_security.sh
```

**Expected:** ✅ All security integration tests passed

---

## Step 4: Branch Protection (Optional)

### Enable Sandbox Workflow as Required Check

1. **Navigate to:**
   - https://github.com/Ic1558/02luka/settings/branches

2. **Edit `main` branch protection:**
   - Enable "Require status checks to pass before merging"
   - Add: `codex_sandbox` (workflow name)
   - Save

**Note:** Requires CI workflow to be set up first (see below)

---

## CI Workflow Setup (If Needed)

### Create `.github/workflows/codex-sandbox.yml`:

```yaml
name: Codex Sandbox Check
on:
  pull_request:
  push:
    branches: [main]
jobs:
  check:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Install ripgrep
        run: sudo apt-get install -y ripgrep
      - name: Run sandbox check
        run: ./tools/codex_sandbox_check.zsh
```

**After creating:**
1. Commit and push to `main`
2. Verify workflow runs on next PR
3. Add as required check in branch protection

---

## Quick Reference

### Current Branch Status:
- **PR Branch:** `ai/codex-review-251114` ✅ Ready
- **Local Main:** Reset to `origin/main` ✅ Synced
- **PR Status:** ⏳ Awaiting merge on GitHub

### After Merge:
1. `git pull origin main` (sync local)
2. Run smoke tests
3. Enable branch protection (optional)

---

**Status:** ⏳ **AWAITING GITHUB MERGE**  
**Next Action:** Merge PR #281 on GitHub, then sync and test
