# Reality Hooks Reports

Reality hooks are lightweight, real-world checks that prove the 02luka system still behaves correctly. They go beyond unit tests by touching the same assets that power production workflows.

This directory stores per-PR reports generated by `tools/reality_hooks/pr_reality_check.zsh`. Each report captures the status of the current hooks:

1. **Dashboard smoke** – Ensures `g/apps/dashboard/dashboard_data.json` exists and has sane roadmap + service data.
2. **Orchestrator summary** – Runs the subagent orchestrator once and confirms it writes a valid `subagent_orchestrator_summary.json` file.
3. **Telemetry schema check** – Validates the fixture `telemetry/sample_telemetry_v2.json` against `schemas/telemetry_v2.schema.json` using `ajv`.

## Running the checks locally

```bash
npm install   # only required once for Ajv
./tools/reality_hooks/pr_reality_check.zsh
```

The script will:

- Print human-readable progress logs.
- Emit a machine-readable block (`REALITY_HOOKS_SUMMARY_START/END`).
- Write `g/reports/system/reality_hooks_pr_<sha>.md` using `reality_hooks_PR_TEMPLATE.md`.

## CI integration

`.github/workflows/reality_hooks.yml` runs the script on every pull request targeting `main` or `release/*`. The workflow uploads the generated Markdown report as an artifact so governance tooling (e.g., PR scoring agents) can detect that `reality_hooks > 0` for the PR.
